!function(){"use strict";var e,t={656:function(e,t,n){var r={};n.r(r),n.d(r,{ACTUALIZAR_HISTORIA:function(){return _e},CLEAR_FILTER:function(){return X},CLOSE_TOOLBAR:function(){return pe},FETCH_ERROR:function(){return w},FETCH_SOURCE_ERROR:function(){return Te},MARK_NOTIFICATIONS_READ:function(){return Ee},SET_LOADING:function(){return V},SET_NOT_LOADING:function(){return K},TOGGLE_COVER:function(){return ye},TOGGLE_FETCHING_DOMAIN:function(){return oe},TOGGLE_FETCHING_SOURCES:function(){return se},TOGGLE_FILTER:function(){return B},TOGGLE_INFOPOPUP:function(){return de},TOGGLE_LANGUAGE:function(){return le},TOGGLE_NOTIFICATIONS:function(){return he},TOGGLE_SITES:function(){return re},UPDATE_DIMENSIONS:function(){return W},UPDATE_DISTRICT:function(){return M},UPDATE_DOMAIN:function(){return P},UPDATE_HIGHLIGHTED:function(){return j},UPDATE_SEARCH_QUERY:function(){return Oe},UPDATE_SELECTED:function(){return U},UPDATE_SOURCE:function(){return te},UPDATE_TIMERANGE:function(){return J},actualizarHistoria:function(){return Re},clearFilter:function(){return z},closeToolbar:function(){return fe},fetchDomain:function(){return D},fetchError:function(){return I},fetchSource:function(){return Z},fetchSourceError:function(){return Ce},markNotificationsRead:function(){return ve},setLoading:function(){return q},setNotLoading:function(){return $},toggleCover:function(){return Se},toggleFetchingDomain:function(){return ie},toggleFetchingSources:function(){return ce},toggleFilter:function(){return Y},toggleInfoPopup:function(){return me},toggleLanguage:function(){return ue},toggleNotifications:function(){return ge},toggleSites:function(){return ae},updateDimensions:function(){return ee},updateDistrict:function(){return F},updateDomain:function(){return L},updateHighlighted:function(){return G},updateSearchQuery:function(){return be},updateSelected:function(){return H},updateSource:function(){return ne},updateTimeRange:function(){return Q}});var a=n(294),o=n(745),i=n(785),c=n(403),l=n(779),u=n(942),p=n(152),f=n(2);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h="DD/MM/YYYY",g="hh:mm";function E(e){return{display_title:"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL",SERVER_ROOT:"",CAIS_EXT:"/api/gvp/cais/rows",EVENTOS_REPRESION:"/api/gvp/eventos/deeprows",EVENTOS_ESTAN_DISPARANDO:"/api/gvp/nueve_s/deeprows",STATIC_EXT:"/api/gvp/menus/columns",VICTIMAS_EXT:"/api/gvp/victimas/rows",FILTER_TREE_EXT:"/api/gvp/menus/columns",SITES_EXT:"",SHAPES_EXT:"",DATE_FMT:"DD/MM/YYYY",TIME_FMT:"hh:mm",MAPBOX_TOKEN:"",store:{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}}[e]?Array.isArray({display_title:"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL",SERVER_ROOT:"",CAIS_EXT:"/api/gvp/cais/rows",EVENTOS_REPRESION:"/api/gvp/eventos/deeprows",EVENTOS_ESTAN_DISPARANDO:"/api/gvp/nueve_s/deeprows",STATIC_EXT:"/api/gvp/menus/columns",VICTIMAS_EXT:"/api/gvp/victimas/rows",FILTER_TREE_EXT:"/api/gvp/menus/columns",SITES_EXT:"",SHAPES_EXT:"",DATE_FMT:"DD/MM/YYYY",TIME_FMT:"hh:mm",MAPBOX_TOKEN:"",store:{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}}[e])?{display_title:"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL",SERVER_ROOT:"",CAIS_EXT:"/api/gvp/cais/rows",EVENTOS_REPRESION:"/api/gvp/eventos/deeprows",EVENTOS_ESTAN_DISPARANDO:"/api/gvp/nueve_s/deeprows",STATIC_EXT:"/api/gvp/menus/columns",VICTIMAS_EXT:"/api/gvp/victimas/rows",FILTER_TREE_EXT:"/api/gvp/menus/columns",SITES_EXT:"",SHAPES_EXT:"",DATE_FMT:"DD/MM/YYYY",TIME_FMT:"hh:mm",MAPBOX_TOKEN:"",store:{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}}[e].map((function(e){return"".concat("").concat(e)})):["".concat("").concat({display_title:"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL",SERVER_ROOT:"",CAIS_EXT:"/api/gvp/cais/rows",EVENTOS_REPRESION:"/api/gvp/eventos/deeprows",EVENTOS_ESTAN_DISPARANDO:"/api/gvp/nueve_s/deeprows",STATIC_EXT:"/api/gvp/menus/columns",VICTIMAS_EXT:"/api/gvp/victimas/rows",FILTER_TREE_EXT:"/api/gvp/menus/columns",SITES_EXT:"",SHAPES_EXT:"",DATE_FMT:"DD/MM/YYYY",TIME_FMT:"hh:mm",MAPBOX_TOKEN:"",store:{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}}[e])]:null}function v(e){return function(t){return m(m({},t),{},{flags:m(m({},t.flags),{},(0,u.Z)({},e,!t.flags[e]))})}}function S(e){return(e>=1?.6:0)+Math.min(.5,.08*(e-1))}function O(e){if(null===e)return null;var t=new Intl.DateTimeFormat("es",{year:"numeric",month:"long",day:"2-digit"}).formatToParts(e),n=(0,p.Z)(t,5),r=n[0].value,a=n[2].value,o=n[4].value;return"".concat(a," ").concat(r,", ").concat(o)}function b(e){return e&&"object"===(0,f.Z)(e)&&!Array.isArray(e)&&null!==e}h||(h="DD/MM/YYYY"),g||(g="hh:mm");var T="#eb443e",C=T,_=T,R=n(861),k=n(687),A=n.n(k),N=E("SOURCES_EXT");function D(){var e=[];function t(t){return e.push({message:t,type:"error"}),[]}return function(){var n=(0,R.Z)(A().mark((function n(r,a){var o,i,s,c,l;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie()),o=fetch(E("EVENTOS_ESTAN_DISPARANDO")).then((function(e){return e.json()})).catch((function(){return t("eventosNueveS")})),i=fetch(E("EVENTOS_REPRESION")).then((function(e){return e.json()})).catch((function(){return t("eventosRepresion")})),s=fetch(E("CAIS_EXT")).then((function(e){return e.json()})).catch((function(){return t("cais")})),c=fetch(E("VICTIMAS_EXT")).then((function(e){return e.json()})).catch((function(){return t("victimas")})),n.prev=5,n.next=8,o;case 8:return n.t0=n.sent,n.next=11,s;case 11:return n.t1=n.sent,n.next=14,c;case 14:return n.t2=n.sent,n.t3={eventos:n.t0,cais:n.t1,victimas:n.t2},n.next=18,i;case 18:if(n.t4=n.sent,n.t5={eventos:n.t4},n.t6=[],n.t7=e,(l={estanDisparando:n.t3,represionMuerte:n.t5,associations:n.t6,notifications:n.t7}).eventos=l.estanDisparando.eventos,!Object.values(l).some((function(e){return e.hasOwnProperty("error")}))){n.next=26;break}throw new Error("Some URLs returned negative. If you are in development, check the server is running");case 26:return r(ie()),n.abrupt("return",l);case 30:n.prev=30,n.t8=n.catch(5),r(I(n.t8.message)),r(ie()),console.log(n.t8);case 35:case"end":return n.stop()}}),n,null,[[5,30]])})));return function(e,t){return n.apply(this,arguments)}}()}var w="FETCH_ERROR";function I(e){return{type:w,message:e}}var P="UPDATE_DOMAIN";function L(e){return{type:P,payload:e}}function Z(e){return function(e){N?(e(ce()),fetch("".concat(N)).then((function(e){if(e.ok)return e.json();throw new Error("No sources are available at the URL specified in the config specified.")})).catch((function(t){e(Ce(t.message)),e(ce())}))):e(Ce("No source extension specified."))}}var j="UPDATE_HIGHLIGHTED";function G(e){return{type:j,highlighted:e}}var U="UPDATE_SELECTED";function H(e){return{type:U,selected:e}}var M="UPDATE_DISTRICT";function F(e){return{type:M,district:e}}var X="CLEAR_FILTER";function z(e){return{type:X,filter:e}}var B="TOGGLE_FILTER";function Y(e,t){return{type:B,filter:e,value:t}}var V="SET_LOADING";function q(){return{type:V}}var K="SET_NOT_LOADING";function $(){return{type:K}}var J="UPDATE_TIMERANGE";function Q(e){return{type:J,timerange:e}}var W="UPDATE_DIMENSIONS";function ee(e){return{type:W,dims:e}}var te="UPDATE_SOURCE";function ne(e){return{type:te,source:e}}var re="TOGGLE_SITES";function ae(){return{type:re}}var oe="TOGGLE_FETCHING_DOMAIN";function ie(){return{type:oe}}var se="TOGGLE_FETCHING_SOURCES";function ce(){return{type:se}}var le="TOGGLE_LANGUAGE";function ue(e){return{type:le,language:e}}var pe="CLOSE_TOOLBAR";function fe(){return{type:pe}}var de="TOGGLE_INFOPOPUP";function me(){return{type:de}}var he="TOGGLE_NOTIFICATIONS";function ge(){return{type:he}}var Ee="MARK_NOTIFICATIONS_READ";function ve(){return{type:Ee}}var ye="TOGGLE_COVER";function Se(){return{type:ye}}var Oe="UPDATE_SEARCH_QUERY";function be(e){return{type:Oe,searchQuery:e}}var Te="FETCH_SOURCE_ERROR";function Ce(e){return{type:Te,msg:e}}var _e="ACTUALIZAR_HISTORIA";function Re(e){return{type:_e,nombre:e}}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t){return Object.assign({},e,{highlighted:t.highlighted})}function De(e,t){return Object.assign({},e,{selected:t.selected})}function we(e,t){t.value instanceof Array||(t.value=[t.value]);var n=e.associations.filters.slice(0);return t.value.forEach((function(e){n.includes(e)?n=n.filter((function(t){return t!==e})):n.push(e)})),Ae(Ae({},e),{},{associations:Ae(Ae({},e.associations),{},{filters:n})})}function Ie(e,t){return Ae(Ae({},e),{},{filters:Ae(Ae({},e.filters),{},(0,u.Z)({},t.filter,[]))})}function Pe(e,t){return Ae(Ae({},e),{},{timeline:Ae(Ae({},e.timeline),{},{range:t.timerange})})}function Le(e,t){return Ae(Ae({},e),{},{timeline:Ae(Ae({},e.timeline),{},{dimensions:Ae(Ae({},e.timeline.dimensions),t.dims)})})}function xe(e,t){var n="es-MX"===e.language?"en-US":"es-MX";return Object.assign({},e,{language:t.language||n})}function Ze(e,t){return Ae(Ae({},e),{},{source:t.source})}function je(e,t){return Ae(Ae({},e),{},{error:t.message,notifications:[{type:"error",message:t.message}]})}var Ge=v("isShowingSites"),Ue=v("isFetchingDomain"),He=v("isFetchingSources"),Me=v("isInfopopup"),Fe=v("isNotification"),Xe=v("isCover");function ze(e,t){return Ae(Ae({},e),{},{errors:Ae(Ae({},e.errors),{},{source:t.msg})})}function Be(e){return Ae(Ae({},e),{},{loading:!0})}function Ye(e){return Ae(Ae({},e),{},{loading:!1})}function Ve(e,t){return Ae(Ae({},e),{},{searchQuery:t.searchQuery})}function qe(e,t){return Ae(Ae({},e),{},{historiaActual:t.nombre})}var Ke;(Ke=function e(t,n){return b(t)&&b(n)&&Object.keys(n).forEach((function(r){b(n[r])?(t[r]||Object.assign(t,(0,u.Z)({},r,{})),e(t[r],n[r])):Object.assign(t,(0,u.Z)({},r,n[r]))})),t}({domain:{historias:{estanDisparando:{rango:[new Date(2020,8,8).getTime(),new Date(2020,8,11).getTime()]},represionMuerte:{rango:[new Date(2021,3,4).getTime(),new Date(2021,7,1).getTime()]}},events:[],locations:[],categories:[],associations:[],sources:{},sites:[],notifications:[]},app:{errors:{source:!1},highlighted:null,selected:[],source:null,associations:{filters:[],categories:[],views:{events:!0,routes:!1,sites:!0}},isMobile:/Mobi/.test(navigator.userAgent),language:"es-MX",map:{anchor:[4.6445491,-74.0686627],startZoom:11,minZoom:6,maxZoom:18,bounds:null,maxBounds:[[180,-180],[-180,180]]},timeline:{dimensions:{height:200,width:0,marginLeft:0,marginTop:15,marginBottom:60,contentHeight:200,width_controls:80},range:[new Date(2021,3,4).getTime(),new Date(2021,7,1).getTime()],zoomLevels:[{label:"20 años",duration:10512e3},{label:"2 años",duration:1051200},{label:"3 meses",duration:129600},{label:"3 días",duration:4320},{label:"12 horas",duration:720},{label:"1 hora",duration:60}]},flags:{isFetchingDomain:!1,isFetchingSources:!1,isCover:!0,isCardstack:!0,isInfopopup:!1,isShowingSites:!0},cover:{title:"project title",description:"A description of the project goes here.\n\nThis description may contain markdown.\n\n# This is a large title, for example.\n\n## Whereas this is a slightly smaller title.\n\nCheck out docs/custom-covers.md in the [Timemap GitHub repo](https://github.com/forensic-architecture/timemap) for more information around how to specify custom covers.",exploreButton:"EXPLORE"},loading:!1},ui:{tiles:"openstreetmap",style:{categories:{default:C,"Disparo asociado a presencia de policía":"#32a852","Policía disparando":"#FF94A6","Disparo sin referencia de origen":"#0378A6","Disparos en presencia de policía":"#007336","Policía armado":"#97C9FF",Herido:"#F25C05",Muerto:"#ff2134",Contexto:"#fff697","Otras agresiones":"#F2B035","Conducta sospechosa policía":"#86f7f2","Policía disparando arma de fuego":"#78548a"},shapes:{default:{stroke:"blue",strokeWidth:3,opacity:.9}}},dom:{timeline:"timeline",timeslider:"timeslider",map:"map"},eventRadius:6},features:{USE_COVER:!1,USE_ASSOCIATIONS:!1,USE_SITES:!1,USE_SOURCES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}},{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}})).app.historiaActual=Object.keys(Ke.domain.historias).pop();var $e=Ke,Je=n(826),Qe=(0,Je.Kn)({category:(0,Je.HD)(),date:(0,Je.HD)(),description:(0,Je.HD)(),filters:(0,Je.kJ)((0,Je.HD)()),fuente:(0,Je.HD)(),id:(0,Je.HD)(),imgs:(0,Je.kJ)((0,Je.HD)()),latitude:(0,Je.HD)(),location:(0,Je.HD)(),longitude:(0,Je.HD)(),nombre_victima:(0,Je.nh)((0,Je.HD)()),ubicacion:(0,Je.nh)((0,Je.HD)()),videos:(0,Je.kJ)((0,Je.HD)())}),We=(0,Je.Kn)({name:(0,Je.HD)(),localidad:(0,Je.HD)(),latitude:(0,Je.HD)(),longitude:(0,Je.HD)()});function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){return tt(tt({},e),function(e){var t={events:[],categories:[],estanDisparando:{eventos:[],categorias:[],cais:[]},represionMuerte:{eventos:[],categorias:[]}};if(void 0===e)return t;var n=[],r=function(r){e[r].eventos.forEach((function(e,a){if(Qe(e,{errors:n})){var o=t[r].categorias;o.find((function(t){var n=t.category;return e.category===n}))||o.push({category:e.category}),e.id=a,e.datetime=function(e,t){t||(t="00:00");var n={date:h.split("/"),time:g.split(":")},r=e.split("/"),a=t.split(":"),o=n.date.indexOf("DD"),i=n.date.indexOf("MM"),s=n.date.indexOf("YYYY"),c=n.time.indexOf("hh"),l=n.time.indexOf("mm");return new Date(r[s],r[i]-1,r[o],a[c],a[l]).getTime()}(e.date,e.time),(i=new Date(e.datetime))instanceof Date&&!isNaN(i)?t[r].eventos.push(e):n.push("Invalid date (".concat(e.date,") in event with description: ").concat(e.description))}var i}))};return r("estanDisparando"),r("represionMuerte"),t.estanDisparando.eventos.sort((function(e,t){return e.datetime-t.datetime})),t.represionMuerte.eventos.sort((function(e,t){return e.datetime-t.datetime})),t.estanDisparando.cais=e.estanDisparando.cais.filter((function(e){return!!We(e,{errors:n})})),n.length&&console.error("Validation errors:\n".concat(n.join("\n"))),t}(t.payload.domain))}function rt(e,t){return tt(tt({},e),{},{notifications:e.notifications.map((function(e){return tt(tt({},e),{},{isRead:!0})}))})}var at=(0,l.UY)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.app,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Ne(e,t);case U:return De(e,t);case X:return Ie(e,t);case B:return we(e,t);case J:return Pe(e,t);case W:return Le(e,t);case te:return Ze(e,t);case le:return xe(e,t);case re:return Ge(e);case oe:return Ue(e);case se:return He(e);case de:return Me(e);case he:return Fe(e);case ye:return Xe(e);case w:return je(e,t);case Te:return ze(e,t);case V:return Be(e);case K:return Ye(e);case Oe:return Ve(e,t);case _e:return qe(e,t);default:return e}},domain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.domain,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return nt(e,t);case Ee:return rt(e);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.ui;return e},features:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.features;return e}}),ot=(0,c.xC)({reducer:at}),it=n(671),st=n(144),ct=n(340),lt=n(963),ut=n(120),pt=n(326),ft=n(573);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){return e.domain.categories},gt=function(e){return e.domain.sources},Et=function(e){return e.domain.associations.filter((function(e){return"FILTER"===e.mode}))},vt=function(e){return e.app.associations.filters},yt=function(e){return e.app.associations.categories},St=function(e){return e.features},Ot=(0,ft.P1)([function(e){return e.domain.sites},St],(function(e,t){return t.USE_SITES?e.filter((function(e){return!!+e.enabled})):[]})),bt=((0,ft.P1)([gt,St],(function(e,t){return t.USE_SOURCES?e:{}})),(0,ft.P1)([function(e){return e.domain.shapes},St],(function(e,t){return t.USE_SHAPES?e:[]}))),Tt=(0,ft.P1)([function(e){return e.domain.events},vt,yt,function(e){return e.app.timeline.range},St],(function(e,t,n,r,a){return e.reduce((function(e,o){var i=o.associations&&o.associations.map((function(e){return t.includes(e)})).some((function(e){return e}))||0===t.length||0===t.length,s=n.includes(o.category)||0===n.length,c=function(e,t){var n=e.datetime;return t[0]<n&&n<t[1]}(o,r);return(c=a.GRAPH_NONLOCATED&&!o.latitude&&!o.longitude||c)&&i&&s&&(e[o.id]=mt({},o)),e}),[])})),Ct=(0,ft.P1)([Tt],(function(e){var t={};return e.forEach((function(e){var n="".concat(e.location,"$_").concat(e.latitude,"_").concat(e.longitude);t[n]?t[n].events.push(e):t[n]={label:n,events:[e],latitude:e.latitude,longitude:e.longitude}})),Object.values(t)})),_t=(0,ft.P1)([Tt,St,function(e){return e.ui.eventRadius}],(function(e,t,n){if(!t.GRAPH_NONLOCATED)return[e,[]];var r=2*n,a=t.GRAPH_NONLOCATED.projectIdx||0,o={};e=e.reduce((function(e,t){var n=t.filters.length>=1&&!t.latitude&&!t.longitude?t.filters[a]:null;return null!==n&&(o.hasOwnProperty(n)?(o[n].start=function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e<t?e:t}))}(o[n].start,t.datetime),o[n].end=function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e>t?e:t}))}(o[n].end,t.datetime)):o[n]={start:t.datetime,end:t.datetime,key:n,category:t.category}),e.push(mt(mt({},t),{},{project:n})),e}),[]);var i=Object.values(o);i.sort((function(e,t){return e.start-t.start}));var s=Object.keys(o).map((function(e,t){return null}));return[e,i.reduce((function(e,t,n){s.forEach((function(e,n){null!==e&&o[e].end<t.start&&(s[n]=null)}));for(var a=0;s[a];)a++;return s[a]=t.key,t.offset=a*r,e[t.key]=t,e}),{})]})),Rt=((0,ft.P1)([_t],(function(e){return e[0]})),(0,ft.P1)([_t,St],(function(e,t){return t.GRAPH_NONLOCATED?e[1]:[]}))),kt=(0,ft.P1)([function(e){return e.app.selected},gt],(function(e,t){return 0===e.length?[]:e.map((n=t,function(e){var t;return t=e.sources?e.sources.map((function(e){var t="object"===(0,f.Z)(e)?e.id:e;return n.hasOwnProperty(t)?n[t]:null})):[],m(m({},e),{},{sources:t})}));var n})),At=(0,ft.P1)([function(e){return e.app.timeline.dimensions}],(function(e){return mt(mt({},e),{},{trackHeight:e.contentHeight-50})})),Nt=n(158),Dt=n.n(Nt);var wt=2*Math.PI,It=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(){var e;return(0,it.Z)(this,o),(e=r.call(this)).svgRef=(0,a.createRef)(),e.map=null,e.markers={},e.markersOnScreen={},e.state={eventosCargados:!1,categoriasCargadas:!1,mapTransformX:0,mapTransformY:0},e}return(0,st.Z)(o,[{key:"componentDidMount",value:function(){var e=this;if(null===this.map){Dt().accessToken="";var t=new(Dt().Map)({container:this.props.ui.dom.map,style:this.props.propiedadesMapa.styleUrl,center:this.props.propiedadesMapa.anchor,zoom:this.props.propiedadesMapa.startZoom});t.on("load",(function(){t.resize()})),t.on("sourcedata",(function(n){n.isSourceLoaded&&!t.getSource("puntosEventos")&&e.crearCapasMapa()})),t.on("click","puntoEvento",(function(t){var n=e.map.queryRenderedFeatures(t.point);if(n.length>=1){var r=n[0].properties.idx;e.props.methods.onSelect(e.props.eventos[r])}})),t.on("mouseenter","puntoEvento",(function(){e.map.getCanvas().style.cursor="crosshair"})),t.on("mouseleave","puntoEvento",(function(){e.map.getCanvas().style.cursor=""})),t.on("render",(function(){if(t.getSource("puntosEventos")){if(!e.map.isSourceLoaded("puntosEventos"))return;e.actualizarPuntos(),e.renderCais()}})),this.map=t}}},{key:"actualizarEstiloMapa",value:function(){this.map.setStyle(this.props.propiedadesMapa.styleUrl),this.map.flyTo({center:this.props.propiedadesMapa.anchor,speed:.7,zoom:this.props.propiedadesMapa.startZoom})}},{key:"crearGeojson",value:function(){return this.props.eventos.map((function(e,t){return{type:"Feature",properties:{category:e.category,idx:t},geometry:{type:"Point",coordinates:[+e.longitude,+e.latitude]}}}))}},{key:"renderCais",value:function(){this.map.getZoom(),this.props.cais}},{key:"crearCapasMapa",value:function(){var e={},t=["case"],n={};for(var r in this.props.colores)if("default"!==r){var a=["==",["get","category"],r];e[r]=a,t.push(a,this.props.colores[r]),n[r]=["+",["case",a,1,0]]}t.push("#CCC");var o=this.crearGeojson();this.map.addSource("puntosEventos",{type:"geojson",cluster:!0,clusterRadius:80,data:{type:"FeatureCollection",features:o},clusterProperties:n}),this.map.addLayer({id:"puntoEvento",type:"circle",source:"puntosEventos",filter:["!",["has","point_count"]],paint:{"circle-color":t,"circle-radius":this.props.ui.eventRadius}})}},{key:"actualizarPuntos",value:function(){for(var e=this,t={},n=this.map.querySourceFeatures("puntosEventos"),r=function(r){var a=n[r].geometry.coordinates,o=n[r].properties;if(!o.cluster)return"continue";var i=o.cluster_id,s=e.markers[i];if(!s){var c=e.crearDona(o);if(!c)return"continue";c.style.cursor="zoom-in",c.onclick=function(){var t=e.map.getSource("puntosEventos");t&&(t.getClusterLeaves(i,o.point_count,0,(function(t,n){if(!t){var r=n.map((function(t){var n=t.properties;return e.props.eventos[n.idx]}));e.props.methods.onSelect(r)}})),t.getClusterExpansionZoom(i,(function(t,n){t||e.map.easeTo({center:a,zoom:n})})))},s=e.markers[i]=new(Dt().Marker)({element:c}).setLngLat(a)}t[i]=s,e.markersOnScreen[i]||s.addTo(e.map)},a=0;a<n.length;a++)r(a);for(var o in this.markersOnScreen)t[o]||this.markersOnScreen[o].remove();this.markersOnScreen=t}},{key:"crearDona",value:function(e){var t=[],n=[];this.props.categorias.forEach((function(t){var r=t.category;n.push(e[r])}));for(var r=0,a=0;a<n.length;a++)t.push(r),r+=n[a];if(0!==r){for(var o=r>=1e3?22:r>=100?20:r>=10?13:10,i=r>=1e3?50:r>=100?32:r>=10?24:18,s=Math.round(.6*i),c=2*i,l='<div><svg width="'.concat(c,'" height="').concat(c,'" viewbox="0 0 ').concat(c," ").concat(c,'" ')+'text-anchor="middle" style="font: '.concat(o,'px sans-serif; display: block">'),u=0;u<n.length;u++){var p=this.props.categorias[u].category,f=this.props.methods.getCategoryColor(p);l+=this.segmentoDona(t[u]/r,(t[u]+n[u])/r,i,s,f)}l+='<circle cx="'.concat(i,'" cy="').concat(i,'" r="').concat(s,'" ')+'fill="#222423" /><text fill="#f5f3ed" dominant-baseline="central" transform="translate('.concat(i,", ").concat(i,')">')+"".concat(r.toLocaleString(),"</text></svg></div>");var d=document.createElement("div");return d.innerHTML=l,d.firstChild}}},{key:"segmentoDona",value:function(e,t,n,r,a){t-e==1&&(t-=1e-5);var o=wt*(e-.25),i=wt*(t-.25),s=Math.cos(o),c=Math.sin(o),l=Math.cos(i),u=Math.sin(i),p=t-e>.5?1:0,f=n+r*s,d=n+r*c;return isNaN(f)&&console.log(props,n,r,e,t),'<path d="M '.concat(f," ").concat(d," L ").concat(n+n*s," ").concat(n+n*c)+"A ".concat(n," ").concat(n," 0 ").concat(p," 1 ").concat(n+n*l," ").concat(n+n*u)+"L ".concat(n+r*l," ").concat(n+r*u," A ").concat(r," ").concat(r," 0 ").concat(p," 0 ").concat(f," ").concat(d,'"')+'fill="'.concat(a,'" />')}},{key:"componentDidUpdate",value:function(e){if(this.props.app.selected.length){var t=this.props.app.selected[0],n=t.latitude,r=t.longitude;this.map.flyTo({center:[r,n],speed:2.35,zoom:18})}if(e.historiaActual!=this.props.historiaActual){for(var a in this.actualizarEstiloMapa(),this.markers)this.markers[a].remove();this.markers={}}}},{key:"render",value:function(){return a.createElement("div",{className:"map-wrapper",onKeyDown:this.props.onKeyDown,tabIndex:"0"},a.createElement("div",{id:this.props.ui.dom.map}))}}]),o}(a.Component),Pt=(0,i.$j)((function(e){return{domain:{locations:Ct(e),sites:Ot(e),shapes:bt(e)},app:{views:e.app.associations.views,selected:kt(e),highlighted:e.app.highlighted,map:e.app.map,flags:{isShowingSites:e.app.flags.isShowingSites}},ui:{tiles:e.ui.tiles,dom:e.ui.dom,mapSelectedEvents:e.ui.style.selectedEvents,shapes:e.ui.style.shapes,eventRadius:e.ui.eventRadius},features:St(e)}}))(It),Lt=n(184),xt=JSON.parse('{"es-MX":{"loading":"Cargando...","legend":{"default":{"header":"Créditos","intro":["Investigación de fuente abierta y análisis por <a href=\'https://cerosetenta.uniandes.edu.co/\'>Cerosetenta</a>","Software y espacialización por <a target=\'_blank\' href=\'https://forensic-architecture.org/\'>Forensic Architecture</a>."],"notation":"","arrows":""},"view2d":{"paragraphs":["Seleccionando una serie de filtros verá aparecer eventos en el mapa y en la línea del tiempo.","Cada evento estará coloreado según la persona que dio el testimonio del evento."],"colors":[{"class":"category_group00","label":"Category Group 00"},{"class":"category_group01","label":"Category Group 01"},{"class":"category_group02","label":"Category Group 02"},{"class":"category_group03","label":"Category Group 03"},{"class":"other","label":"Other categories"}]}},"toolbar":{"title":"Violencia Policial","categories":"Categorias","filters":"Filtros","explore_by_filter__title":"Explore by filter or category","explore_by_filter__description":"Selecting filters or categories, you\'ll see only those events that are tagged accordingly. If you select nothing, as well as everything, all data will be displayed.","panels":{"mentions":{"title":"Personas","overview":"Seleccionar los nombres de personas mostrará eventos en los que esta persona o organización ha sido mencionada, incluyendo el propio testimonio. Entre paréntesis encontrará el número de menciones. Ej. (34)."},"categories":{"title":"Testimonios","overview":"Seleccionar el nombre de una persona mostrará los eventos descritos por su testimonio. Entre paréntesis encontrará el número de eventos descritos. Ej. (34)."},"search":{"title":"Directorio de etiquetas","placeholder":"Búsqueda"}}},"timeline":{"zooms":["3 años","3 meses","3 días","12 horas","2 horas","30 min","10 min"],"labels_title":"Testimonios","labels":["Testimony Group 00","Testimony Group 01","Testimony Group 02","Testimony Group 03","Other categories"],"info":"Viendo eventos ocurridos entre"},"cardstack":{"header":"eventos seleccionados","unknown_location":"Ubicación desconocida","unknown_time":"Día y hora desconocida","timestamp":"Día y hora","estimated":"aproximado","location":"Ubicación","incident_type":"Tipo de acción","description":"Hechos","people":"Personas en el evento","sources":"Fuentes","category":"Según el testimonio de","communication":"Comunicación","transmitter":"Transmisor","receiver":"Receptor","warning":"(!) HECHOS CUESTIONADOS"}},"en-US":{"loading":"Loading...","legend":{"view2d":{"paragraphs":["Selecting a series of filters, you will be able to explore events on the map of Iguala and on the timeline.","Each event is colored according the person that gave category of the event."],"colors":[{"class":"category_group00","label":"Category Group 00"},{"class":"category_group01","label":"Category Group 01"},{"class":"category_group02","label":"Category Group 02"},{"class":"category_group03","label":"Category Group 03"},{"class":"other","label":"Other categories"}]},"default":{"header":"Navigating the Platform","intro":["Open source research by [Bellingcat](https://bellingcat.com).<br/>Software and spatialisation by [Forensic Architecture](https://forensic-architecture.org).","Each event represents an occurence that is distinct in time or space, or both. An event is represented by a coloured circle on both the map and the timeline.","Select an event to reveal its content and sources. You can filter events by category or other specified filters in the top left toolbar."],"notation":"Combinations of colours within a circle indicate multiple events in a single location.","arrows":"Use the left/right arrows on the keboard to move back and forth between events in time."}},"toolbar":{"title":"TITLE","panels":{"mentions":{"title":"Mentions","overview":"Selecting the names of people/organisation will show events in which these have been mentioned in their own testistimony and by others. The number in the parentheses shows how many events contain a mention of a person or organisation, e.g. (34)"},"categories":{"title":"Testimonies","overview":"Selecting the name of a person will show the events only according to a person’s category or category. The number in the parentheses show how many events are contained in each category, e.g. (34)."},"search":{"title":"Directory of filters","placeholder":"Search"}},"categories":"Categories","filters":"Filters","filters_label":"Filters","explore_by_filter__title":"Explore by filter","explore_by_filter__description":"Selecting a filter will show you only those events that are annotated with the filter. If you select nothing, as well as everything, all data will be displayed.","explore_by_category__title":"Explore events by category","explore_by_category__description":""},"timeline":{"zooms":["3 years","3 months","3 days","12 hours","2 hours","30 min","10 min"],"labels_title":"Testimonies","labels":["Testimony Group 00","Testimony Group 01","Testimony Group 02","Testimony Group 03","Other"],"info":"Seeing events that occurred between"},"cardstack":{"header":"selected events","timestamp":"Day and time","unknown_location":"Unknown location","estimated":"estimated","unknown_time":"Unknown time","location":"Localization","incident_type":"Type of action","description":"Summary","filters":"Filters","nofilters":"No known filters for this event.","sources":"Sources","unknown_source":"The information for this source could not be retrieved.","category":"Category","communication":"Communication","transmitter":"Transmitter","receiver":"Receiver","warning":"(!) Highly questioned"}}}'),Zt=function(e){var t=e.title,n=e.from,r=e.to,o=e.onClick,i=n&&O(n),s=r&&O(r);return a.createElement("div",{className:"timeline-header"},a.createElement("div",{className:"timeline-toggle",onClick:function(){return o()}},a.createElement("p",null,a.createElement("i",{className:"arrow-down"}))),a.createElement("div",{className:"timeline-info"},a.createElement("p",null,t),a.createElement("p",null,i," - ",s)))};var jt=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),(t=r.call(this,e)).xAxis0Ref=a.createRef(),t.xAxis1Ref=a.createRef(),t.state={isInitialized:!1},t}return(0,st.Z)(o,[{key:"componentDidUpdate",value:function(){var e,t;this.props.extent>5256e3?(e="%Y",t=""):this.props.extent>43200?(t="%Y",e="%d %b"):(t="%d %b",e="%H:%M"),this.props.scaleX&&(this.x0=(0,Lt.LLu)(this.props.scaleX).ticks(10).tickPadding(0).tickSize(this.props.dims.trackHeight).tickFormat((0,Lt.i$Z)(e)),this.x1=(0,Lt.LLu)(this.props.scaleX).ticks(10).tickPadding(this.props.dims.marginTop).tickSize(0).tickFormat((0,Lt.i$Z)(t)),this.state.isInitialized||this.setState({isInitialized:!0})),this.state.isInitialized&&((0,Lt.Ys)(this.xAxis0Ref.current).transition().duration(this.props.transitionDuration).call(this.x0),(0,Lt.Ys)(this.xAxis1Ref.current).transition().duration(this.props.transitionDuration).call(this.x1))}},{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("g",{ref:this.xAxis0Ref,transform:"translate(0, ".concat(20,")"),className:"axis xAxis"}),a.createElement("g",{ref:this.xAxis1Ref,transform:"translate(0, ".concat(-8,")"),className:"axis xAxis"}))}}]),o}(a.Component),Gt=function(e){var t=e.styles,n=e.eventRadius,r=e.getEventX,o=e.getEventY,i=e.transitionDuration,s=e.selected,c=e.dims,l=e.features;return a.createElement("g",null,s.map((function(e,s){return function(e,s){function u(){return a.createElement("circle",{key:"timelineMarker-".concat(s),className:"timeline-marker",cx:0,cy:0,stroke:t?t.stroke:_,strokeOpacity:"1",strokeWidth:t?t["stroke-width"]:1,strokeLinejoin:"round",strokeDasharray:t?t["stroke-dasharray"]:"2,2",style:{transform:"translate(".concat(r(e),"px, ").concat(o(e),"px)"),WebkitTransition:"transform ".concat(i/1e3,"s ease"),MozTransition:"none",opacity:.9},r:2*n})}function p(){return a.createElement("rect",{key:"timelineMarker-".concat(s),className:"timeline-marker",x:0,y:0,width:n/2,height:c.contentHeight-55,stroke:t?t.stroke:_,strokeOpacity:"1",strokeWidth:t?t["stroke-width"]:1,strokeDasharray:t?t["stroke-dasharray"]:"2,2",style:{transform:"translate(".concat(r(e),"px)"),opacity:.7}})}var f=!!e.location&&!!e.longitude||l.GRAPH_NONLOCATED&&-1!==e.projectOffset;switch(e.shape){case"circle":case"diamond":case"star":return u();case"bar":return p();default:return f?u():p()}}(e,s)})))};function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=function(e){var t=e.highlights,n=(e.events,e.x),r=e.y,o=e.width,i=e.height,s=e.onSelect,c=e.styleProps,l=e.idx;if(0===t.length)return a.createElement("rect",{onClick:s,className:"event",x:n,y:r,style:c,width:o,height:i});var u=i/t.length;return a.createElement(a.Fragment,null,t.map((function(e,t){return a.createElement("rect",{key:"dateTimeBar-".concat(l,"-").concat(t),onClick:s,className:"event",x:n,y:r-u+l*u+u/2,style:Ht(Ht({},c),{},{opacity:e?.3:.1}),width:o,height:u})})))};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n,r){return a.createElement("circle",{key:"eventDot-".concat(r),onClick:n.onSelect,className:"event",cx:n.x,cy:n.y,style:t,r:n.eventRadius})}function Bt(e,t,n,r){var o=n.features.GRAPH_NONLOCATED?e.projectOffset>=0?t.opacity:.5:S(1);return a.createElement(Mt,{key:r,onSelect:n.onSelect,category:e.category,events:[e],x:n.x,y:n.dims.marginTop,width:n.eventRadius/4,height:n.dims.trackHeight,styleProps:Xt(Xt({},t),{},{fillOpacity:o}),highlights:n.highlights})}function Yt(e,t,n,r){var o=1.8*n.eventRadius;return a.createElement("rect",{key:"dateTimeSquare-".concat(r),onSelect:n.onSelect,className:"event",x:n.x,y:n.y-o,style:styleProps,width:o,height:o,transform:"rotate(45, ".concat(n.x,", ").concat(n.y,")")})}function Vt(e,t,n,r){return a.createElement("polygon",{key:"dateTimeStar-".concat(r),onClick:n.onSelect,className:"event",x:n.x,y:n.y-1.8*n.eventRadius,style:Xt(Xt({},t),{},{fillRule:"nonzero"}),points:"".concat(x,",").concat(y+s," ").concat(x-s,",").concat(y-s," ").concat(x+s,",").concat(y," ").concat(x-s,",").concat(y," ").concat(x+s,",").concat(y-s),transform:"rotate(90)"})}var qt=function(e){var t=e.events,n=e.getDatetimeX,r=e.getY,o=e.getCategoryColor,i=e.getHighlights,s=e.onSelect,c=e.transitionDuration,l=e.dims,u=e.features,p=e.eventRadius;return a.createElement("g",null,t.map((function(e,t){return function(e,t){var a=e.location&&e.longitude||u.GRAPH_NONLOCATED&&-1!==e.projectOffset?zt:Bt;e.shape&&(a="bar"===e.shape?Bt:"diamond"===e.shape?Yt:"star"===e.shape?Vt:zt);var f=r(e),d={fill:e.colour?e.colour:o(e.category),fillOpacity:f>0?S(1):0,transition:"transform ".concat(c/1e3,"s ease")};return a(e,d,{x:n(e.datetime),y:f,eventRadius:p,onSelect:function(){return s(e)},dims:l,highlights:u.HIGHLIGHT_GROUPS?i(e.filters[u.HIGHLIGHT_GROUPS.filterIndexIndicatingGroup]):[],features:u},t)}(e,t)})))};var Kt=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),(t=r.call(this,e)).grabRef=(0,a.createRef)(),t.state={isInitialized:!1},t}return(0,st.Z)(o,[{key:"componentDidUpdate",value:function(){if(!this.state.isInitialized){var e=(0,Lt.ohM)().on("start",this.props.onDragStart).on("drag",this.props.onDrag).on("end",this.props.onDragEnd);(0,Lt.Ys)(this.grabRef.current).call(e),this.setState({isInitialized:!0})}}},{key:"renderCategory",value:function(e,t){var n=this.props.dims,r=e.category,o=this.props.getCategoryY(r);if(o)return a.createElement(a.Fragment,{key:"category-".concat(t)},a.createElement("g",{className:"tick",style:{strokeWidth:1},opacity:"0.5",transform:"translate(0,".concat(o,")")},a.createElement("line",{x1:n.marginLeft+150,x2:n.width-n.width_controls})),a.createElement("g",{className:"tick",opacity:"1",transform:"translate(0,".concat(o,")")},a.createElement("text",{x:n.marginLeft-5,dy:"0.32em",fill:"#f5f5f5"},r)))}},{key:"render",value:function(){var e=this;if(0===this.props.dims.width)return"";var t=this.props.features.USE_CATEGORIES?this.props.categories.map((function(t,n){return e.renderCategory(t,n)})):this.renderCategory("Events",0);return a.createElement("g",{className:"yAxis"},t)}}]),o}(a.Component);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),t=r.call(this,e),(0,u.Z)((0,pt.Z)(t),"computeDims",(function(){var e=t.props.ui.dom.timeline;if(null!==document.querySelector("#".concat(e))){var n=document.querySelector("#".concat(e)).getBoundingClientRect();t.setState({dims:Jt(Jt({},t.props.dimensions),{},{width:n.width})},(function(){t.setState({scaleX:t.makeScaleX()})}))}})),(0,u.Z)((0,pt.Z)(t),"onApplyZoom",(function(e){var n=t.getTimeScaleExtent(),r=Lt.Z_i.offset(t.state.scaleX.domain()[0],n/2),a=t.props.app.timeline.rangeLimits,o=Lt.Z_i.offset(r,-e.duration/2),i=Lt.Z_i.offset(r,e.duration/2);if(a){var s=a[0],c=a[1];o<s&&(o=s,i=Lt.Z_i.offset(o,e.duration)),i>c&&(i=c,o=Lt.Z_i.offset(i,-e.duration))}t.setState({timerange:[o,i]},(function(){t.props.methods.onUpdateTimerange(t.state.timerange)}))})),(0,u.Z)((0,pt.Z)(t),"onDragStart",(function(e){e.sourceEvent.stopPropagation(),t.setState({dragPos0:e.x},(function(){t.toggleTransition(!1)}))})),(0,u.Z)((0,pt.Z)(t),"onDrag",(function(e){var n=(t.state.scaleX.invert(t.state.dragPos0).getTime()-t.state.scaleX.invert(e.x).getTime())/1e3,r=t.props.app.timeline,a=r.range,o=r.rangeLimits,i=Lt.S1K.offset(a[0],n),s=Lt.S1K.offset(a[1],n);if(o){var c=o[0],l=o[1];i=i<c?c:i,s=s>l?l:s}t.onSoftTimeRangeUpdate([i,s])})),(0,u.Z)((0,pt.Z)(t),"onDragEnd",(function(){t.toggleTransition(!0),t.props.methods.onUpdateTimerange(t.state.timerange)})),(0,u.Z)((0,pt.Z)(t),"getDatetimeX",(function(e){return t.state.scaleX(e)})),(0,u.Z)((0,pt.Z)(t),"getY",(function(e){var n=e.category;return t.state.scaleY?t.state.scaleY(n):0})),(0,u.Z)((0,pt.Z)(t),"styleDatetime",(function(e,t){return[null,null]})),t.svgRef=(0,a.createRef)(),t.state={isFolded:!1,dims:e.dimensions,scaleX:null,scaleY:null,timerange:[null,null],dragPos0:null,transitionDuration:300},t}return(0,st.Z)(o,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.computeDims);var e=this.props.dimensions,t=e.trackHeight,n=e.marginTop;this.setState({scaleX:this.makeScaleX(),timerange:this.props.rango,scaleY:this.makeScaleY(this.props.categorias,t,n)}),this.computeDims()}},{key:"componentDidUpdate",value:function(e,t){if(t.timerange!==this.state.timerange&&(this.setState({scaleX:this.makeScaleX()}),this.computeDims()),this.props.rango!==this.state.timerange&&(this.setState({timerange:this.props.rango}),this.computeDims()),this.props.categorias!==e.categorias||this.props.dimensions!==e.dimensions){var n=this.props.dimensions,r=n.trackHeight,a=n.marginTop;this.setState({scaleY:this.makeScaleY(this.props.categorias,r,a)}),this.computeDims()}}},{key:"makeScaleX",value:function(){return(0,Lt.Xf)().domain(this.state.timerange).range([this.state.dims.marginLeft,this.state.dims.width-this.state.dims.width_controls])}},{key:"makeScaleY",value:function(e,t,n){var r=t/e.length,a=t/e.length/2,o=0===n?0:n,i=t<=60?t<=30?-8:-5:0,s=e.map((function(e,t){return(t+1)*r-a+o+i})),c=e.map((function(e){return e.category}));return function(e){var t=c.indexOf(e);return s[t]}}},{key:"getTimeScaleExtent",value:function(){if(!this.state.scaleX)return 0;var e=this.state.scaleX.domain();return(e[1].getTime()-e[0].getTime())/6e4}},{key:"onClickArrow",value:function(){this.setState((function(e){return{isFolded:!e.isFolded}}))}},{key:"onMoveTime",value:function(e){var t=this;this.props.methods.onSelect();var n=this.getTimeScaleExtent(),r=Lt.Z_i.offset(this.state.scaleX.domain()[0],n/2),a=r,o=Lt.Z_i.offset(r,n);"backwards"===e&&(a=Lt.Z_i.offset(r,-n),o=r),this.setState({timerange:[a,o]},(function(){t.props.methods.onUpdateTimerange(t.state.timerange)}))}},{key:"onCenterTime",value:function(e){var t=this,n=this.getTimeScaleExtent(),r=Lt.Z_i.offset(e,-n/2),a=Lt.Z_i.offset(e,+n/2);this.setState({timerange:[r,a]},(function(){t.props.methods.onUpdateTimerange(t.state.timerange)}))}},{key:"onSoftTimeRangeUpdate",value:function(e){this.setState({timerange:e})}},{key:"toggleTransition",value:function(e){this.setState({transitionDuration:e?300:0})}},{key:"render",value:function(){var e=this;if(!this.state.scaleX)return null;var t="timeline-wrapper ".concat(this.state.isFolded?" folded":""),n=this.state.dims,r={bottom:this.state.isFolded?-n.height:"58px"},o={height:n.height},i=Jt(Jt({},o),r),s={height:n.contentHeight},c=this.props.categorias;return a.createElement("div",{className:t,style:i,onKeyDown:this.props.onKeyDown,tabIndex:"1"},a.createElement(Zt,{title:xt[this.props.app.language].timeline.info,from:this.state.timerange[0],to:this.state.timerange[1],onClick:function(){e.onClickArrow()}}),a.createElement("div",{className:"timeline-content",style:o},a.createElement("div",{id:this.props.ui.dom.timeline,className:"timeline",style:s},a.createElement("svg",{ref:this.svgRef,width:n.width,style:s},a.createElement(jt,{dims:n,extent:this.getTimeScaleExtent(),transitionDuration:this.state.transitionDuration,scaleX:this.state.scaleX}),a.createElement(Kt,{dims:n,getCategoryY:function(t){return e.getY({category:t,project:null})},onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,categories:c,features:this.props.features,getCategoryColor:this.props.methods.getCategoryColor}),a.createElement(Gt,{dims:n,selected:this.props.app.selected,getEventX:function(t){return e.getDatetimeX(t.datetime)},getEventY:this.getY,transitionDuration:this.state.transitionDuration,styles:this.props.ui.styles,features:this.props.features,eventRadius:this.props.ui.eventRadius}),a.createElement(qt,{events:this.props.eventos,projects:this.props.domain.projects,styleDatetime:this.styleDatetime,getDatetimeX:this.getDatetimeX,getY:this.getY,getHighlights:function(e){return"None"===e?[]:c.map((function(t){return t.group===e}))},getCategoryColor:this.props.methods.getCategoryColor,transitionDuration:this.state.transitionDuration,onSelect:this.props.methods.onSelect,dims:n,features:this.props.features,setLoading:this.props.actions.setLoading,setNotLoading:this.props.actions.setNotLoading,eventRadius:this.props.ui.eventRadius})))))}}]),o}(a.Component),Wt=(0,i.$j)((function(e){return{dimensions:At(e),domain:{projects:Rt(e),categories:ht(e)},app:{selected:e.app.selected,language:e.app.language,timeline:e.app.timeline},ui:{dom:e.ui.dom,styles:e.ui.style.selectedEvents,eventRadius:e.ui.eventRadius},features:St(e)}}),(function(e){return{actions:(0,l.DE)({setLoading:q,setNotLoading:$},e)}}))(Qt),en=function(e){var t=e.isLoading,n=e.language,r="loading-overlay";return r+=t?"":" hidden",a.createElement("div",{id:"loading-overlay",className:r},a.createElement("div",{className:"loading-wrapper"},a.createElement("span",{id:"loading-text",className:"text"},xt[n].loading),a.createElement("div",{className:"spinner"},a.createElement("div",{className:"double-bounce1"}),a.createElement("div",{className:"double-bounce2"}))))},tn=function(e){var t=e.isActive,n=e.isDisabled,r=e.onClickHandler,o=t?"action-button enabled":"action-button";return n&&(o="action-button disabled"),a.createElement("button",{className:o,onClick:r},a.createElement("i",{className:"material-icons"},"location_on"))},nn=function(e){var t=e.isActive,n=e.isDisabled,r=e.onClickHandler,o=t?"action-button enabled":"action-button";return n&&(o="action-button disabled"),a.createElement("button",{className:o,onClick:r},a.createElement("i",{className:"material-icons"},"home"))},rn=function(e){var t=e.isActive,n=e.isDisabled,r=e.onClickHandler,o=t?"action-button enabled":"action-button";return n&&(o="action-button disabled"),a.createElement("button",{className:o,onClick:r},a.createElement("i",{className:"material-icons"},"info"))},an=function(e){return a.createElement("div",{className:"bottom-actions"},[a.createElement("div",{key:"toggle-sites",className:"bottom-action-block"},e.features.USE_SITES?a.createElement(tn,{isActive:e.sites.enabled,onClickHandler:e.sites.toggle}):null),a.createElement("div",{key:"toggle-info",className:"botttom-action-block"},a.createElement(rn,{isActive:e.info.enabled,onClickHandler:e.info.toggle})),a.createElement("div",{key:"toggle-cover",className:"botttom-action-block"},e.features.USE_COVER?a.createElement(nn,{onClickHandler:e.cover.toggle}):null)])};var on=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(){return(0,it.Z)(this,o),r.apply(this,arguments)}return(0,st.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement("h2",null,"Cartografía de la violencia policial"),a.createElement("h3",{className:"resaltar"},"¡Están disparando!: los puntos donde la policía desenfundó sus armas en el #9S y #10S"),a.createElement("p",{className:"highlight"},"Periodistas de 070 geolocalizaron videos donde hay evidencia de uso de armas de fuego durante las protestas del 9 y 10 de septiembre de 2020 en Bogotá y Soacha. Esas noches, por balas, murieron 14 personas y 75 quedaron heridas, según reportes de hospitales."),a.createElement("p",null,"Cada punto en el mapa corresponde al lugar en el que un video registra a un agente de policía disparando; se oyen detonaciones en presencia de policías; o se oyen detonaciones pero no se identifica el origen."),a.createElement("p",null,"El análisis muestra que — con certeza— la policía disparó al menos 345 veces sus armas de fuego en los alrededores de 17 CAI de la ciudad. En otras 1116 detonaciones registradas no hay imagen de la policía disparando, aunque en la mayoría de esos eventos se ve su presencia."),a.createElement("p",null,"El análisis visual o sonoro no permite identificar el tipo de munición o arma utilizada."),a.createElement("p",{className:"resaltar"},"Este mapa sigue abierto y se irá alimentando con nuevos registros."),a.createElement("h3",null,"Créditos"),a.createElement("p",null,"Investigación de fuente abierta y análisis por ",a.createElement("a",{href:"https://cerosetenta.uniandes.edu.co/"},"Cerosetenta"),"."),a.createElement("p",null,"Desarrollo"," ",a.createElement("a",{href:"https://enflujo.com",target:"_blank"},"Laboratorio EnFlujo")),a.createElement("p",null,"Software y espacialización por"," ",a.createElement("a",{href:"https://forensic-architecture.org/",target:"_blank"},"Forensic Architecture"),"."),a.createElement("p",null,"Asesoría editorial por"," ",a.createElement("a",{href:"https://www.bellingcat.com/",target:"_blank"},"Bellingcat"),"."))}}]),o}(a.Component);var sn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){return(0,it.Z)(this,o),r.call(this,e)}return(0,st.Z)(o,[{key:"render",value:function(){var e=0;this.props.eventos.forEach((function(t){return"Muerto"===t.category?e++:""}));var t=(new Date).getTime()-new Date(2021,3,28).getTime();return t=Math.ceil(t/864e5),a.createElement("div",null,a.createElement("h2",null,"Cartografía de la violencia policial"),a.createElement("h3",{className:"resaltar"},"REPRESIÓN Y MUERTE EN LAS CALLES DE COLOMBIA"),a.createElement("p",{className:"highlight"},"En 100 días de choques con la Policía al menos ",a.createElement("span",{className:"contador"},e+1)," personas murieron en el contexto de las protestas contra el Gobierno de Iván Duque, desde el 28 de abril del 2021. Estos son los puntos con el registro audiovisual que ciudadanos compartieron en redes sociales y que Cerosetenta ha analizado, verificado y geolocalizado para entender mejor cómo ocurrió cada caso de agresión por parte de la Fuerza Pública, incluyendo los nombres de las víctimas y la descripción de los hechos."),a.createElement("p",null,a.createElement("a",{href:"https://cerosetenta.uniandes.edu.co/represion-y-muerte-mapa/",target:"_blank"},"Así se hizo este trabajo.")),a.createElement("p",{className:"rojo"},"ESTE TRABAJO CONTIENE IMÁGENES DE VIOLENCIA."),a.createElement("p",null,"Un proyecto de: ",a.createElement("a",{href:"https://cerosetenta.uniandes.edu.co/"},"Cerosetenta")," -"," ",a.createElement("a",{href:"https://www.bellingcat.com/",target:"_blank"},"Bellingcat")," ","-"," ",a.createElement("a",{href:"https://enflujo.com",target:"_blank"},"EnFlujo")),a.createElement("h3",null,"Equipo"),a.createElement("ul",{className:"center"},a.createElement("li",null,"Carlos Gonzales"),a.createElement("li",null,"Giancarlo Fiorella"),a.createElement("li",null,"Lorenzo Morales"),a.createElement("li",null,"Natalia Arenas"),a.createElement("li",null,"Nathan Jaccard"),a.createElement("li",null,"Juan Camilo González"),a.createElement("li",null,"Diego Forero"),a.createElement("li",null,"Tania Tapia"),a.createElement("li",null,"Manuela Saldarriaga"),a.createElement("li",null,"María Fernanda Fitzgerald"),a.createElement("li",null,"Ana Sophia López"),a.createElement("li",null,"Goldy Levy"),a.createElement("li",null,"Alejandro Gómez Dugand"),a.createElement("li",null,"Antonia Bustamante"),a.createElement("li",null,"Jeanniffer Pimentel"),a.createElement("li",null,"Sara Cely Vélez"),a.createElement("li",null,"Laura Ramos Rico"),a.createElement("li",null,"Sandrine Exil"),a.createElement("li",null,"Juan Belleville"),a.createElement("li",null,"Carlos Borda"),a.createElement("li",null,"Juan Felipe Rozo"),a.createElement("li",null,"Mariana Ramos Abello"),a.createElement("li",null,"Javier Morales Cifuentes"),a.createElement("li",null,"Valeria M."),a.createElement("li",null,"Alejandro Barragán")))}}]),o}(a.Component);var cn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),t=r.call(this,e),(0,u.Z)((0,pt.Z)(t),"handleClose",(function(){t.infoRef.current.classList.add("hidden")})),(0,u.Z)((0,pt.Z)(t),"handleOpen",(function(){t.infoRef.current.classList.remove("hidden")})),t.state={_selected:-1},t.infoRef=(0,a.createRef)(),t}return(0,st.Z)(o,[{key:"selectTab",value:function(e){var t=this.state._selected===e?-1:e;this.setState({_selected:t})}},{key:"renderClosePanel",value:function(){var e=this;return a.createElement("div",{className:"panel-header",onClick:function(){return e.selectTab(-1)}},a.createElement("div",{className:"caret"}))}},{key:"renderToolbarPanels",value:function(){var e=this.state._selected>=0?"toolbar-panels":"toolbar-panels folded";return a.createElement("div",{className:e},this.renderClosePanel())}},{key:"renderToolbarTabs",value:function(){var e=this;xt[this.props.language].toolbar.title;return"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL",a.createElement("div",{className:"toolbar"},a.createElement("div",{className:"toolbar-header",onClick:this.props.methods.onTitle},a.createElement("p",null,"CARTOGRAFÍA DE LA VIOLENCIA POLICIAL")),a.createElement("div",{className:"toolbar-tabs"},a.createElement("div",{className:"toolbar-tab",onClick:function(){return e.cuandoClic("estanDisparando")}},a.createElement("i",{className:"material-icons"},"star"),a.createElement("div",{className:"tab-caption"},"Están Disparando #9S")),a.createElement("div",{className:"toolbar-tab",onClick:function(){return e.cuandoClic("represionMuerte")}},a.createElement("i",{className:"material-icons"},"request_quote"),a.createElement("div",{className:"tab-caption"},"Represión y Muerte #28A"))),a.createElement(an,{info:{enabled:this.props.infoShowing,toggle:this.props.actions.toggleInfoPopup},sites:{enabled:this.props.sitesShowing,toggle:this.props.actions.toggleSites},cover:{toggle:this.props.actions.toggleCover},features:this.props.features}))}},{key:"cuandoClic",value:function(e){e===this.props.historiaActual?this.infoRef.current.classList.toggle("hidden"):(this.infoRef.current.classList.remove("hidden"),this.props.actualizarHistoria(e))}},{key:"mostrarHistoria",value:function(){switch(this.props.historiaActual){case"estanDisparando":default:return a.createElement(on,null);case"represionMuerte":return a.createElement(sn,{eventos:this.props.eventos})}}},{key:"render",value:function(){return a.createElement("div",{id:"toolbar-wrapper",className:"toolbar-wrapper"},a.createElement("article",{ref:this.infoRef,className:"historiaInfo"},a.createElement("div",{className:"closeBtn",onClick:this.handleClose},"X"),this.mostrarHistoria()),this.renderToolbarTabs(),this.renderToolbarPanels())}}]),o}(a.Component),ln=(0,i.$j)((function(e){return{filters:Et(e),language:e.app.language,activeFilters:vt(e),activeCategories:yt(e),viewFilters:e.app.associations.views,sitesShowing:e.app.flags.isShowingSites,infoShowing:e.app.flags.isInfopopup,features:St(e)}}),(function(e){return{actions:(0,l.DE)(r,e)}}))(cn),un=n(462),pn=function(e){var t=e.timelabel,n=e.language,r=e.precision,o=xt[n].cardstack.unknown_time;return null!=t?a.createElement("div",{className:"card-cell timestamp"},a.createElement("p",null,a.createElement("i",{className:"material-icons left"},"today"),t,r&&""!==r?" - ".concat(r):"")):a.createElement("div",{className:"card-cell timestamp"},a.createElement("p",null,a.createElement("i",{className:"material-icons left"},"today"),o))},fn=function(e){e.language;var t=e.data,n=e.isPrecise;return n="confirmada"===t.ubicacion?"where_to_vote":"aproximada"===t.ubicacion?"not_listed_location":"location_off",a.createElement("div",{className:"card-cell location"},a.createElement("p",null,a.createElement("i",{className:"material-icons left"},"location_on"),"".concat(t.location),a.createElement("br",null),a.createElement("i",{className:"material-icons left"},n),t.ubicacion?"Ubicación ".concat(t.ubicacion):"Ubicación por confirmar"))},dn=function(e){var t=e.isOpen,n=e.toggle,r=t?"arrow-down":"arrow-down folded";return a.createElement("div",{className:"card-toggle",onClick:n},a.createElement("p",null,a.createElement("i",{className:r})))},mn=function(e){var t,n,r=e.language,o=e.data,i=e.categoryColor,s=xt[r].cardstack.description,c=function(e){return e?a.createElement("p",{className:"nombre-muerto"},a.createElement("span",{className:"star"}),e,a.createElement("span",{className:"star"})):null}(o.nombre_victima),l=(t=o.fuente.trim().split("https").filter((function(e){return!!e})).map((function(e){return":"===e.charAt(0)?"https".concat(e):e})),n=[],t.length?(t.forEach((function(e,t){var r;r=null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)?a.createElement("p",{key:"fuente-".concat(t),className:"fuente"},a.createElement("a",{href:e,target:"_blank"},"Fuente ".concat(t+1))):a.createElement("p",{key:"fuente-".concat(t),className:"fuente"},e),n.push(r)})),n):null),u=o.filters.map((function(e,t){return a.createElement("span",{key:"filter-".concat(t),className:"category-filter"},e)}));return a.createElement("div",{className:"card-row summary"},a.createElement("div",{className:"card-cell"},a.createElement("p",{className:"card-categoria",style:{backgroundColor:i,color:"white",display:"inline-block",padding:".3em",margin:".3em 0"}},o.category),u,c,a.createElement("h4",null,s),a.createElement("p",null,o.description),function(e){if(e&&e.length)return e.map((function(e,t){return a.createElement("video",{key:e,className:"video",width:"550",height:"380",controls:!0},a.createElement("source",{src:"./videos/".concat(e,".mp4"),type:"video/mp4"}))}))}(o.videos),function(e){if(e&&e.length)return e.map((function(e,t){return a.createElement("img",{key:e,className:"img",width:"550",src:"./videos/imgs/".concat(e,".jpg")})}))}(o.imgs),l))},hn=n(324),gn=n.n(hn),En=function(e){var t=e.small;return a.createElement("div",{className:"spinner ".concat(t?"small":"")},a.createElement("div",{className:"double-bounce-overlay"}),a.createElement("div",{className:"double-bounce"}))},vn=function(e){var t=e.source,n=e.isLoading,r=e.onClickHandler;if(!t)return a.createElement("div",{className:"card-source"},a.createElement("div",null,"Error: this source was not found"));var o=/\.(jpg|png)$/,i=t.thumbnail;if(!i||""===i||!i.match(o)){var s=t.paths.filter((function(e){return e.match(o)}));i=s.length>0?s[0]:null}""===t.type&&t.paths.length>=1&&(t.type=function(e){var t;switch(e=e.trim(),!0){case/\.((png)|(jpg)|(jpeg))$/.test(e):t="Image";break;case/\.(mp4)$/.test(e):t="Video";break;case/\.(md)$/.test(e):t="Text";break;case/\.(pdf)$/.test(e):t="Document";break;default:t="Unknown"}return t}(t.paths[0]));var c=a.createElement("i",{className:"material-icons source-icon"},function(e){switch(e){case"Eyewitness Testimony":return"visibility";case"Government Data":return"public";case"Satellite Imagery":return"satellite";case"Second-Hand Testimony":return"visibility_off";case"Video":return"videocam";case"Photo":return"photo";case"Photobook":return"photo_album";case"Document":return"picture_as_pdf";default:return"help"}}(t.type));return a.createElement("div",{className:"card-source"},n?a.createElement(En,null):a.createElement("div",{className:"source-row",onClick:function(){return r(t)}},i?a.createElement(gn(),{className:"source-icon",src:i,loader:a.createElement(En,{small:!0}),unloader:c,width:30,height:30}):c,a.createElement("p",null,t.title?t.title:t.id)))};var yn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),(t=r.call(this,e)).state={isOpen:!1},t}return(0,st.Z)(o,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"makeTimelabel",value:function(e){return O(e)}},{key:"handleCardSelect",value:function(e){if(!e.target.className.includes("arrow-down")){var t=this.props.idx>0?[this.props.event]:this.props.event;this.props.onSelect(t,this.props.idx)}}},{key:"renderSummary",value:function(){return a.createElement(mn,{categoryColor:this.props.getCategoryColor(this.props.event.category),language:this.props.language,description:this.props.event.description,data:this.props.event,isOpen:this.state.isOpen})}},{key:"renderLocation",value:function(){return a.createElement(fn,{language:this.props.language,data:this.props.event,isPrecise:!this.props.event.type||"Structure"===this.props.event.type})}},{key:"renderSources",value:function(){var e=this;if(this.props.sourceError)return a.createElement("div",null,"ERROR: something went wrong loading sources, TODO:");var t=xt[this.props.language].cardstack.sources;return a.createElement("div",{className:"card-col"},a.createElement("h4",null,t,": "),this.props.event.sources.map((function(t){return a.createElement(vn,{isLoading:e.props.isLoading,source:t,onClickHandler:function(t){return e.props.onViewSource(t)}})})))}},{key:"renderTime",value:function(){var e=this.makeTimelabel(this.props.event.datetime);return a.createElement(pn,{makeTimelabel:e,language:this.props.language,timelabel:e})}},{key:"renderMain",value:function(){return a.createElement("div",{className:"card-container"},a.createElement("div",{className:"card-row details"},this.renderTime(),this.renderLocation()),this.renderSummary())}},{key:"renderExtra",value:function(){return a.createElement("div",{className:"card-bottomhalf"},this.renderSources())}},{key:"renderCaret",value:function(){var e=this;return this.props.features.USE_SOURCES?a.createElement(dn,{toggle:function(){return e.toggle()},isOpen:this.state.isOpen}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.isSelected,r=t.idx;return a.createElement("li",{className:"event-card ".concat(n?"selected":""),id:"event-card-".concat(r),ref:this.props.innerRef,onClick:function(t){return e.handleCardSelect(t)}},this.renderMain(),this.state.isOpen?this.renderExtra():null,this.renderCaret())}}]),o}(a.Component),Sn=a.forwardRef((function(e,t){return a.createElement(yn,(0,un.Z)({innerRef:t},e))}));var On=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),(t=r.call(this,e)).refs={},t.refCardStack=a.createRef(),t.refCardStackContent=a.createRef(),t}return(0,st.Z)(o,[{key:"renderCards",value:function(e,t){var n=this;return t||(t=e.map((function(e){return!0}))),this.refs=[],e.map((function(e,r){var o=a.createRef();return n.refs[r]=o,a.createElement(Sn,{key:"card-".concat(r),event:e,ref:o,sourceError:n.props.sourceError,language:n.props.language,isLoading:n.props.isLoading,isSelected:t[r],getCategoryGroup:n.props.getCategoryGroup,getCategoryColor:n.props.getCategoryColor,getCategoryLabel:n.props.getCategoryLabel,onViewSource:n.props.onViewSource,onHighlight:n.props.onHighlight,onSelect:n.props.onSelect,idx:r,features:n.props.features})}))}},{key:"renderSelectedCards",value:function(){var e=this.props.selected;return e.length>0?this.renderCards(e):null}},{key:"renderCardStackHeader",value:function(){var e=this,t=xt[this.props.language].cardstack.header;return a.createElement("div",{id:"card-stack-header",className:"card-stack-header",onClick:function(){return e.props.onToggleCardstack()}},a.createElement("button",{className:"side-menu-burg is-active"},a.createElement("span",null)),a.createElement("p",{className:"header-copy top"},"".concat(this.props.selected.length," ").concat(t)))}},{key:"renderCardStackContent",value:function(){return a.createElement("div",{id:"card-stack-content",className:"card-stack-content"},a.createElement("ul",null,this.renderSelectedCards()))}},{key:"render",value:function(){var e=this.props,t=e.isCardstack;return e.selected.length>0?a.createElement("div",{id:"card-stack",className:"card-stack\n          ".concat(t?"":" folded")},this.renderCardStackHeader(),this.renderCardStackContent()):a.createElement("div",null)}}]),o}(a.Component),bn=(0,i.$j)((function(e){return{selected:kt(e),sourceError:e.app.errors.source,language:e.app.language,isCardstack:e.app.flags.isCardstack,isLoading:e.app.flags.isFetchingSources,features:e.features}}))(On),Tn=function(e){var t,n,r,o,i,s=e.ui,c=e.app,l=e.methods;return a.createElement("div",null,a.createElement("div",{className:"infopopup ".concat(c.flags.isInfopopup?"":"hidden")},a.createElement("div",{className:"legend-header"},a.createElement("button",{onClick:l.onClose,className:"side-menu-burg over-white is-active"},a.createElement("span",null)),a.createElement("h2",null,xt[c.language].legend.default.header)),(i=xt[c.language].legend.default.intro,{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}.text&&{historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}.text.introCopy&&(i={historias:["estanDisparando","represionMuerte"],app:{language:"es-MX"},features:{USE_CATEGORIES:!0,CATEGORIES_AS_FILTERS:!0,USE_ASSOCIATIONS:!1,USE_SOURCES:!1,USE_COVER:!1,USE_SITES:!1,USE_SHAPES:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}}.text.introCopy),i.map((function(e,t){return a.createElement("p",{key:"p".concat(t),dangerouslySetInnerHTML:{__html:e}})}))),a.createElement("div",null,((o=Object.keys(s.style.categories).filter((function(e){return"default"!==e}))).reverse(),o.map((function(e,t){return a.createElement("div",{key:"cat-".concat(t),className:"legend-section"},a.createElement("svg",{x:"0px",y:"0px",width:"50px",height:"20px",viewBox:"0 0 100 30",enableBackground:"new 0 0 100 30"},a.createElement("circle",{opacity:"1",fill:s.style.categories[e],cx:"50",cy:"15",r:"15"})),a.createElement("div",{className:"legend-labels"},a.createElement("div",{className:"label"},e)))})))),a.createElement("br",null),a.createElement("div",{className:"legend"},a.createElement("div",{className:"legend-container"},a.createElement("div",{className:"legend-item one"},(n="red",r="blue",(t=Object.keys(s.style.categories)).length>=1&&(n=s.style.categories[t[0]]),t.length>=2&&(r=s.style.categories[t[1]]),[a.createElement("style",{key:"style"},".svg-demo { max-width: 30px } .first { fill: ".concat(n," } .second { fill: ").concat(r," } .demo-text { font-size: 9pt; color: white; font-weight:900 }")),a.createElement("svg",{key:"svg",viewBox:"0 0 30 30",className:"svg-demo"},a.createElement("g",{className:"location demo-element",transform:"translate(15,15)"},a.createElement("path",{className:"location-event-marker first",id:"arc_0",d:"M 10 0 A 10 10 0 0 1 -10 1.2246467991473533e-15 L 0 0  L 10 0 Z"}),a.createElement("path",{className:"location-event-marker second",id:"arc_1",d:"M -10 1.2246467991473533e-15 A 10 10 0 0 1 10 -2.4492935982947065e-15 L 0 0  L -10 1.2246467991473533e-15 Z"}),a.createElement("text",{className:"location-count demo-text",dx:"-4",dy:"4"},"2")))])),a.createElement("div",{className:"legend-item three"},xt[c.language].legend.default.notation))),a.createElement("br",null),a.createElement("div",null,a.createElement("p",null,xt[c.language].legend.default.arrows)),s.style.arrows?Object.keys(s.style.arrows).map((function(e,t){return a.createElement("div",{key:"arr".concat(t),className:"legend-section"},(n=s.style.arrows[e],a.createElement("svg",{x:"-10px",y:"0px",width:"100px",height:"30px",viewBox:"0 40 100 30",enableBackground:"new 0 0 100 70"},a.createElement("polyline",{fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","stroke-miterlimit":"10",points:" 8.376,63.723 47.287,63.723 60,46 80,46 "}),a.createElement("line",{stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",x1:"78.849",y1:"41.94",x2:"84.195",y2:"46"}),a.createElement("line",{stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",x1:"78.849",y1:"50.06",x2:"84.195",y2:"46"}))),a.createElement("div",{className:"legend-labels"},a.createElement("div",{className:"label"},e)));var n})):null))};var Cn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),(t=r.call(this,e)).state={isExtended:!1},t}return(0,st.Z)(o,[{key:"toggleDetails",value:function(){this.setState({isExtended:!this.state.isExtended})}},{key:"renderItems",value:function(e){return e?a.createElement("div",null,e.map((function(e){return e.error?a.createElement("p",null,e.error.message):""}))):""}},{key:"renderNotificationContent",value:function(e){var t=e.type,n=e.message,r=e.items;return a.createElement("div",null,a.createElement("div",{className:"message ".concat(t)},n),a.createElement("div",{className:"details ".concat(this.state.isExtended)},null!==r?this.renderItems(r):""))}},{key:"render",value:function(){var e=this;return this.props.notifications?this.props.notifications.filter((function(e){return!("isRead"in e&&e.isRead)})).length>0?a.createElement("div",{className:"notification-wrapper"},this.props.notifications.map((function(t,n){return a.createElement("div",{key:"notification-".concat(n),className:"notification",onClick:function(){return e.toggleDetails()}},a.createElement("button",{onClick:e.props.onToggle,className:"side-menu-burg over-white is-active"},a.createElement("span",null)),e.renderNotificationContent(t))}))):a.createElement("div",null):null}}]),o}(a.Component),_n=function(e){var t=e.query,n=e.eventObj,r=e.onSearchRowClick,o=n.description,i=n.location,s=n.date;function c(e,t){var n=e.split(new RegExp("(".concat(t,")"),"gi"));return a.createElement("span",null,n.map((function(e){return e.toLowerCase()===t.toLowerCase()?a.createElement("span",{style:{backgroundColor:"yellow",color:"black"}},e):e})))}return a.createElement("div",{className:"search-row",onClick:function(){return r([n])}},a.createElement("div",{className:"location-date-container"},a.createElement("div",{className:"date-container"},a.createElement("i",{className:"material-icons"},"event"),a.createElement("p",null,c(s,t))),a.createElement("div",{className:"location-container"},a.createElement("i",{className:"material-icons"},"location_on"),a.createElement("p",null,c(i,t)))),a.createElement("p",null,function(e,t){for(var n=new RegExp("(([^ ]* ){0,6}[a-zA-Z]*".concat(t.toLowerCase(),"[a-zA-Z]*( [^ ]*){0,5})"),"gm"),r=e.toLowerCase().match(n),a=0;a<(r?r.length:0);a++)r[a]="..."+r[a];var o=[e.match("(([^ ]* ){0,10})","m")[0]];return r||o}(o,t).map((function(e){return a.createElement("span",null,c(e,t),"...",a.createElement("br",null))}))))};var Rn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),t=r.call(this,e),(0,u.Z)((0,pt.Z)(t),"onButtonClick",(function(){t.setState((function(e){return{isFolded:!e.isFolded}}))})),(0,u.Z)((0,pt.Z)(t),"updateSearchQuery",(function(e){var n=e.target.value;t.props.actions.updateSearchQuery(n)})),t.state={isFolded:!0},t}return(0,st.Z)(o,[{key:"render",value:function(){var e,t=this,n=["description","location","category","date"];return e=this.props.queryString?this.props.eventos.filter((function(e){return n.some((function(n){return e[n]?e[n].toLowerCase().includes(t.props.queryString.toLowerCase()):""}))})):[],a.createElement("div",{className:"search-outer-container"},a.createElement("div",{id:"search-bar-icon-container",onClick:this.onButtonClick},a.createElement("i",{className:"material-icons"},"search")),a.createElement("div",{className:"search-bar-overlay"+(this.state.isFolded?" folded":"")},a.createElement("div",{className:"search-input-container"},a.createElement("input",{className:"search-bar-input",onChange:this.updateSearchQuery,type:"text"}),a.createElement("i",{id:"close-search-overlay",className:"material-icons",onClick:this.onButtonClick},"close")),a.createElement("div",{className:"search-results"},e.map((function(e){return a.createElement(_n,{onSearchRowClick:t.props.onSearchRowClick,eventObj:e,query:t.props.queryString})})))))}}]),o}(a.Component),kn=(0,i.$j)((function(e){return e}),(function(e){return{actions:(0,l.DE)(r,e)}}))(Rn);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(e){var t;return(0,it.Z)(this,o),t=r.call(this,e),(0,u.Z)((0,pt.Z)(t),"handleHighlight",(function(e){t.props.actions.updateHighlighted(e||null)})),(0,u.Z)((0,pt.Z)(t),"handleViewSource",(function(e){t.props.actions.updateSource(e)})),(0,u.Z)((0,pt.Z)(t),"findEventIdx",(function(e){return function(e,t,n){for(var r=0,a=e.length-1;r<=a;){var o=a+r>>1,i=(s=t,c=e[o],s.datetime-c.datetime);if(i>0)r=o+1;else{if(!(i<0))return o;a=o-1}}var s,c;return-r-1}(t.props.domain[t.props.app.historiaActual].eventos,e)})),(0,u.Z)((0,pt.Z)(t),"handleSelect",(function(e,n){var r=[];if(0===n){var a=t.props.domain[t.props.app.historiaActual].eventos,o=e.datetime;r=a.filter((function(e){return e.datetime===o}))}else Array.isArray(e)?e.forEach((function(e){return r.push(e)})):r.push(e);t.props.actions.updateSelected(r)})),(0,u.Z)((0,pt.Z)(t),"getCategoryColor",(function(e){return t.props.features.USE_CATEGORIES?t.props.ui.style.categories[e]||t.props.ui.style.categories.default:C})),(0,u.Z)((0,pt.Z)(t),"onKeyDown",(function(e){var n=t.props.app.selected,r=t.props.domain[t.props.app.historiaActual].eventos;if(n.length>0){var a=n[n.length-1],o=t.findEventIdx(a);switch(e.keyCode){case 37:case 38:if(o<=0)return;!function(e){t.handleSelect(r[e-1],0)}(o);break;case 39:case 40:if(o<0||o>=t.props.domain.length-1)return;!function(e){t.handleSelect(r[e+1],0)}(o)}}})),(0,u.Z)((0,pt.Z)(t),"actualizarHistoria",(function(e){t.props.actions.updateSelected([]),t.props.actions.actualizarHistoria(e)})),t.state={muertos:[],historiaActual:null,historias:{estanDisparando:{mapa:{styleUrl:"mapbox://styles/juancgonza/ckobpms3r1bxb17oa5jbdy53s",anchor:[-74.057,4.619],startZoom:11,minZoom:6,maxZoom:18,bounds:null,maxBounds:[[180,-180],[-180,180]]}},represionMuerte:{mapa:{styleUrl:"mapbox://styles/juancgonza/ckphofn3b1i8q17ppt2bp7p3r?optimize=true",anchor:[-77.477,1.012],startZoom:5,minZoom:6,maxZoom:18,bounds:null,maxBounds:[[180,-180],[-180,180]]}}}},t}return(0,st.Z)(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props.actions.fetchDomain();t&&t.then((function(t){e.props.actions.updateDomain({domain:t}),e.actualizarHistoria(e.props.app.historiaActual)}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.app,o=t.domain,i=t.ui;if(o[r.historiaActual]){var s=o[r.historiaActual],c=s.eventos,l=s.categorias,u=s.cais;return a.createElement("div",null,a.createElement(ln,{eventos:c,historiaActual:r.historiaActual,actualizarHistoria:this.actualizarHistoria,methods:{onTitle:n.toggleCover,onSelectFilter:function(e){return n.toggleFilter("filters",e)},onCategoryFilter:function(e){return n.toggleFilter("categories",e)}}}),a.createElement(Pt,{historiaActual:r.historiaActual,eventos:c,categorias:l,colores:i.style.categories,cais:u,propiedadesMapa:this.state.historias[r.historiaActual].mapa,onKeyDown:this.onKeyDown,methods:{getCategoryColor:this.getCategoryColor,onSelect:function(t){return e.handleSelect(t,1)}}}),a.createElement(Wt,{eventos:c,categorias:l,onKeyDown:this.onKeyDown,rango:o.historias[r.historiaActual].rango,methods:{onSelect:function(t){return e.handleSelect(t,0)},onUpdateTimerange:n.updateTimeRange,getCategoryColor:this.getCategoryColor,actualizarRangoTiempo:n.updateTimeRange}}),a.createElement(bn,{timelineDims:r.timeline.dimensions,onViewSource:this.handleViewSource,onSelect:this.handleSelect,onHighlight:this.handleHighlight,onToggleCardstack:function(){return n.updateSelected([])},getCategoryColor:this.getCategoryColor}),a.createElement(Tn,{ui:i,app:r,methods:{onClose:n.toggleInfoPopup}}),a.createElement(Cn,{isNotification:r.flags.isNotification,notifications:o.notifications,onToggle:n.markNotificationsRead}),a.createElement(kn,{queryString:r.searchQuery,eventos:c,onSearchRowClick:this.handleSelect}),a.createElement(en,{isLoading:r.loading||r.flags.isFetchingDomain,ui:r.flags.isFetchingDomain,language:r.language}))}}}]),o}(a.Component),wn=(0,i.$j)((function(e){return Nn(Nn({},e),{},{selected:kt(e)})}),(function(e){return{actions:(0,l.DE)(r,e)}}))(Dn);var In=function(e){(0,ct.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ut.Z)(t);if(n){var a=(0,ut.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,lt.Z)(this,e)});function o(){return(0,it.Z)(this,o),r.apply(this,arguments)}return(0,st.Z)(o,[{key:"render",value:function(){return a.createElement(wn,null)}}]),o}(a.Component),Pn=In;(0,o.s)(document.getElementById("explore-app")).render(a.createElement(i.zt,{store:ot},a.createElement(Pn,null)))}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,a,o){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],o=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={826:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,i=n[0],s=n[1],c=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var u=c(r)}for(t&&t(n);l<i.length;l++)o=i[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkviolencia_policial=self.webpackChunkviolencia_policial||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[987],(function(){return r(656)}));a=r.O(a)}();